<!-- views/testViewAllRecords.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View All Records</title>
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <link rel="stylesheet" href="/css/styles.css">

</head>
<body class="bg-gray-100 p-8">
    <div class="container mx-auto">
        <!-- Prescriptions Table -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold mb-4">Prescriptions</h2>
            <div class="overflow-x-auto bg-white rounded-lg shadow">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-2 text-left">PrescriptionID</th>
                            <th class="px-4 py-2 text-left">PatientID</th>
                            <th class="px-4 py-2 text-left">DoctorID</th>
                            <th class="px-4 py-2 text-left">DateIssued</th>
                            <th class="px-4 py-2 text-left">DiagnosisNotes</th>
                            <th class="px-4 py-2 text-left">Medicines</th>
                            <th class="px-4 py-2 text-left">Status</th>
                            <th class="px-4 py-2 text-left">GlobalReferenceID</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% prescriptions.forEach(prescription => { %>
                            <tr class="border-t">
                                <td class="px-4 py-2"><%= prescription.PrescriptionID %></td>
                                <td class="px-4 py-2"><%= prescription.PatientID %></td>
                                <td class="px-4 py-2"><%= prescription.DoctorID %></td>
                                <td class="px-4 py-2"><%= prescription.DateIssued.toLocaleDateString() %></td>
                                <td class="px-4 py-2"><%= prescription.DiagnosisNotes %></td>
                                <td class="px-4 py-2 whitespace-pre-line"><%= prescription.Medicines %></td>
                                <td class="px-4 py-2"><%= prescription.Status %></td>
                                <td class="px-4 py-2"><%= prescription.GlobalReferenceID %></td>
                            </tr>
                        <% }) %>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Medical Records Table -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold mb-4">Medical Records</h2>
            <div class="overflow-x-auto bg-white rounded-lg shadow">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-2 text-left">RecordID</th>
                            <th class="px-4 py-2 text-left">PatientID</th>
                            <th class="px-4 py-2 text-left">DoctorID</th>
                            <th class="px-4 py-2 text-left">Diagnosis</th>
                            <th class="px-4 py-2 text-left">Symptoms</th>
                            <th class="px-4 py-2 text-left">Treatments</th>
                            <th class="px-4 py-2 text-left">RecordDate</th>
                            <th class="px-4 py-2 text-left">Notes</th>
                            <th class="px-4 py-2 text-left">UpdatedBy</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% medicalRecords.forEach(record => { %>
                            <tr class="border-t">
                                <td class="px-4 py-2"><%= record.RecordID %></td>
                                <td class="px-4 py-2"><%= record.PatientID %></td>
                                <td class="px-4 py-2"><%= record.DoctorID %></td>
                                <td class="px-4 py-2"><%= record.Diagnosis %></td>
                                <td class="px-4 py-2"><%= record.Symptoms %></td>
                                <td class="px-4 py-2"><%= record.Treatments %></td>
                                <td class="px-4 py-2"><%= record.RecordDate.toLocaleDateString() %></td>
                                <td class="px-4 py-2"><%= record.Notes %></td>
                                <td class="px-4 py-2"><%= record.UpdatedBy %></td>
                            </tr>
                        <% }) %>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Doctor-Patient Relationships Table -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold mb-4">Doctor-Patient Relationships</h2>
            <div class="overflow-x-auto bg-white rounded-lg shadow">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-2 text-left">DoctorID</th>
                            <th class="px-4 py-2 text-left">PatientID</th>
                            <th class="px-4 py-2 text-left">FirstConsultation</th>
                            <th class="px-4 py-2 text-left">ConsultationType</th>
                            <th class="px-4 py-2 text-left">TreatmentNotes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% doctorPatients.forEach(relationship => { %>
                            <tr class="border-t">
                                <td class="px-4 py-2"><%= relationship.DoctorID %></td>
                                <td class="px-4 py-2"><%= relationship.PatientID %></td>
                                <td class="px-4 py-2"><%= relationship.FirstConsultation.toLocaleDateString() %></td>
                                <td class="px-4 py-2"><%= relationship.ConsultationType %></td>
                                <td class="px-4 py-2"><%= relationship.TreatmentNotes %></td>
                            </tr>
                        <% }) %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html>
